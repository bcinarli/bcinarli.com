var app={version:"0.1.0"};!function(a,b,c){var d={header:"#masthead",logo:".logo",menu:".page-nav",duration:1e3},e={current:"current"},f=!1,g={gap:0,breakPoints:[],tops:[],hash:[]},h={click:"click.go"};a.$objs={},a.init=function(){a.$objs.header=b(d.header),a.$objs.gap=a.$objs.header.height(),a.$objs.menu=b(d.menu),a.$objs.menuLinks=a.$objs.menu.find("a"),a.$objs.isMobile=b("#wrapper").hasClass("is-mobile"),a.sections.init(),a.navigation.init(),a.scroll.check()},a.toggle=function(){a.$objs.toggle.on(h.click,function(){a.$objs.menu.toggle()})},a.navigation={init:function(){a.navigation.trap(d.menu)},trap:function(c){console.log("init"),b("body").on(h.click,c+" a, "+d.logo,function(c){c.preventDefault();var d=b(this),e=this.hash;a.$objs.isMobile&&a.$objs.menu.hide(),a.scroll.to(e),a.navigation.highlight(d)})},highlight:function(b){a.$objs.menuLinks.removeClass(e.current),b.addClass(e.current)}},a.scroll={check:function(){b(c).on("scroll",function(){var d=b(c).scrollTop(),e="remove";d>a.$objs.gap&&(e="add"),b("body")[e+"Class"]("is-scrolled"),a.sections.current(d)})},to:function(c){var e=c||"#cover",h=0;e.length&&(f=!0,h=g.hash[e]-a.$objs.gap,b("html,body").animate({scrollTop:h},d.duration,function(){f=!1}))}},a.sections={vars:{closest:0,next:0,currentSection:""},init:function(){g.gap=a.$objs.gap;var c="#cover",d=0;g.hash[c]=d,g.tops[d]=c,g.breakPoints.push(d),a.$objs.menuLinks.each(function(){var a=this.hash||"#cover",c=b(a),d=c.offset().top;b(this).addClass("app-section-"+a.substr(1)),g.hash[a]=d,g.tops[d]=a,g.breakPoints.push(d)})},current:function(b){if(!f){for(var c=0;c<g.breakPoints.length;c++)if("undefined"!==g.breakPoints[c+1]&&b+g.gap<g.breakPoints[c+1]){a.sections.vars.closest=g.breakPoints[c],a.sections.vars.next=g.breakPoints[c+1],a.sections.vars.currentSection=g.tops[a.sections.vars.closest];break}b+g.gap>=a.sections.vars.next&&(a.sections.vars.currentSection=g.tops[a.sections.vars.next]),a.navigation.highlight(a.$objs.menuLinks.filter(".app-section-"+a.sections.vars.currentSection.substr(1)))}}}}(app,jQuery,window),app.init();
//# sourceMappingURL=sourcemap.map